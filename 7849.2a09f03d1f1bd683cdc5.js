(self.webpackChunkMyInnovak=self.webpackChunkMyInnovak||[]).push([[7849],{7849:(e,t,n)=>{"use strict";n.r(t),n.d(t,{HttpLoaderFactory:()=>q,NewExpenseColPageModule:()=>G});var o=n(1116),i=n(1041),r=n(4812),s=n(4258),a=n(4762),l=n(3169),c=n(5366),u=n(6171),p=n(4033),g=n(7047),h=n(649),d=n(6532),m=n(6116);function A(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"ion-row"),c.TgZ(1,"ion-item"),c.TgZ(2,"ion-label",6),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.TgZ(5,"ion-input",51),c.NdJ("click",function(){return c.CHM(e),c.oxw().expenseCourtesyTypeModal()})("ngModelChange",function(t){return c.CHM(e),c.oxw().expenseCourtesyType=t}),c.qZA(),c.qZA(),c.TgZ(6,"ion-item"),c.TgZ(7,"ion-label",6),c._uU(8),c.ALo(9,"translate"),c.qZA(),c.TgZ(10,"ion-input",52),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().expenseNumberPerson=t}),c.qZA(),c.qZA(),c.TgZ(11,"ion-item"),c.TgZ(12,"ion-label",53),c._uU(13),c.ALo(14,"translate"),c.qZA(),c.TgZ(15,"ion-textarea",54),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().expenseCourtesyRazons=t}),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.xp6(3),c.hij("",c.lcZ(4,7,"PAGES.NUEVOGASTO.TIPOCORTESIA"),"*"),c.xp6(2),c.Q6J("ngModel",e.expenseCourtesyType),c.xp6(3),c.Oqu(c.lcZ(9,9,"PAGES.NUEVOGASTO.NUMPERSONAS")),c.xp6(2),c.Q6J("ngModel",e.expenseNumberPerson),c.xp6(3),c.AsE("",c.lcZ(14,11,"PAGES.NUEVOGASTO.RAZONESCORTESIA")," (",e.razonesParaCortesia,")"),c.xp6(2),c.Q6J("ngModel",e.expenseCourtesyRazons)}}function y(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"ion-row"),c.TgZ(1,"ion-col",5),c.TgZ(2,"ion-item"),c.TgZ(3,"ion-label",6),c._uU(4),c.ALo(5,"translate"),c.qZA(),c.TgZ(6,"ion-input",55),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().nochesHospedaje=t}),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.xp6(4),c.Oqu(c.lcZ(5,2,"PAGES.NUEVOGASTO.NOCHESHOSPEDAJE")),c.xp6(2),c.Q6J("ngModel",e.nochesHospedaje)}}function T(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"ion-searchbar",56),c.NdJ("ionChange",function(t){return c.CHM(e),c.oxw().buscarVendors(t)})("ngModelChange",function(t){return c.CHM(e),c.oxw().vendorBox=t}),c.qZA()}if(2&e){const e=c.oxw();c.Q6J("ngModel",e.vendorBox)}}function Z(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"ion-item",58),c.NdJ("click",function(){const t=c.CHM(e).$implicit;return c.oxw(2).asignaVendor(t)}),c._uU(1),c.qZA()}if(2&e){const e=t.$implicit;c.xp6(1),c.Oqu(e.Nombre)}}function f(e,t){if(1&e&&(c.TgZ(0,"ion-list"),c.YNc(1,Z,2,1,"ion-item",57),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.Q6J("ngForOf",e.vendorsFiltrados)}}function N(e,t){1&e&&(c.TgZ(0,"ion-col",59),c._uU(1," \xa0 "),c.qZA())}function D(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"ion-col",60),c.TgZ(1,"button",61),c.TgZ(2,"ion-icon",62),c.NdJ("click",function(){return c.CHM(e),c.oxw().limpiarVendor()}),c.qZA(),c.qZA(),c.qZA()}}function x(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"ion-col",63),c.TgZ(1,"ion-item"),c.TgZ(2,"ion-label",12),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.TgZ(5,"ion-input",64),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().expenseSupplier=t}),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.xp6(3),c.hij("",c.lcZ(4,2,"PAGES.NUEVOGASTO.PROVEEDOR"),"*"),c.xp6(2),c.Q6J("ngModel",e.expenseSupplier)}}function I(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"ion-row",65),c.TgZ(1,"ion-col",66),c.TgZ(2,"ion-item"),c.TgZ(3,"ion-label"),c._uU(4,"Nuevo NIT"),c.qZA(),c.TgZ(5,"ion-checkbox",67),c.NdJ("change",function(){return c.CHM(e),c.oxw().bNuevoNit=!1}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(6,"ion-col",66),c.TgZ(7,"ion-item"),c.TgZ(8,"ion-label",12),c._uU(9,"Nombre Proveedor"),c.qZA(),c.TgZ(10,"ion-input",68),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().nombreProveedor=t}),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.xp6(5),c.Q6J("checked",e.bNuevoNit),c.xp6(5),c.Q6J("ngModel",e.nombreProveedor)}}function S(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"ion-col",5),c.TgZ(1,"ion-label",69),c._uU(2,"Comprobante del gasto:"),c.qZA(),c.TgZ(3,"ion-item",70),c.NdJ("click",function(){c.CHM(e);const t=c.oxw();return t.openFile(t.expenseFile)}),c._UZ(4,"ion-icon",71),c._uU(5),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.xp6(5),c.hij(" ",e.newFileName," ")}}function O(e,t){if(1&e&&c._UZ(0,"img",72),2&e){const e=c.oxw();c.Q6J("src",e.photo64PreviewData,c.LSH)}}function E(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"ion-fab-button",73),c.NdJ("click",function(){return c.CHM(e),c.oxw().takePhoto()}),c._UZ(1,"ion-icon",74),c.qZA()}}const M=[{path:"",component:(()=>{class e{constructor(e,t,n,o,i,r,s,a,c,u,p){this.datePipe=e,this.expensesService=t,this.cameraService=n,this.toastService=o,this.alertCtrl=i,this.loadingCtrl=r,this.translate=s,this.datePicker=a,this.iab=c,this.router=u,this.plt=p,this.idioma="es",this.userData="",this.newFile="",this.newFileName="",this.photo64Preview="",this.photo64PreviewData="",this.fileSource="no file",this.expenseDate="05-12-2018",this.selectedVendor=!1,this.expenseTip="0.00",this.userZones=[],this.typeOfCourtesyArray=l.j,this.sistemaOperativo="",this.vendors=[],this.vendorsFiltrados=[],this.vendorsVisible=!1,this.bPropina=!1,this.bNuevoNit=!1,this.validateDate=/^(0?[1-9]|[12][0-9]|3[01])[\-](0[1-9]|1[012])[\-]\d{4}$/,s.setDefaultLang(this.idioma),this.translate.use(this.idioma)}buscarVendors(e){var t=e._value;t&&""!==t.trim()?(this.vendorsVisible=!0,this.vendorsFiltrados=this.vendors.filter(e=>e.RUC.toLowerCase().indexOf(t.toLowerCase())>-1),t.length>6&&0==this.vendorsFiltrados.length?(this.bNuevoNit=!0,this.expenseSupplierRFC=t,console.log(this.expenseSupplierRFC)):this.bNuevoNit=!1,this.vendorsVisible=this.vendorsFiltrados.length<=20):this.vendorsVisible=!1}asignaVendor(e){this.vendorBox="",this.vendorsFiltrados=[],this.selectedVendor=!0,this.expenseSupplier=e.Nombre,this.expenseSupplierRFC=e.RUC,this.nombreProveedor=null}limpiarVendor(){this.selectedVendor=!1,this.expenseSupplier="",this.expenseSupplierRFC=""}ionViewDidEnter(){return(0,a.mG)(this,void 0,void 0,function*(){if(localStorage.getItem("userData")){this.userData=JSON.parse(localStorage.getItem("userData"));var e=yield this.loadingCtrl.create({message:"Cargando..."});e.present(),this.sistemaOperativo=this.plt.is("android")?"android":"ios";let n=new Date;n.getFullYear();var t=n.getMonth();n.getDate(),t=parseFloat(t)+1,this.expenseDate=(new Date).toISOString(),this.expensesService.GET_userCompanies(this.userData.userID).subscribe(t=>{if("200"!=t[0].statusID)return this.companiesBDArray=[],this.toastService.showToastBottom(t[0].statusDescription),void e.dismiss();this.companiesBDArray=t,this.companyID=t[0].companyID,this.companyName=t[0].companyName+"/"+t[0].companyDescription}),this.expensesService.GET_userZones(this.userData.userID).subscribe(t=>{if("200"!=t[0].statusID)return this.zonesBDArray=[],this.toastService.showToastBottom(t[0].statusDescription),void e.dismiss();this.zonesBDArray=t,this.zoneID=t[0].zoneID,this.zoneName=t[0].zoneName}),this.expensesService.GET_userRegions(this.userData.userID).subscribe(t=>{if("200"!=t[0].statusID)return this.regionsBDArray=[],this.toastService.showToastBottom(t[0].statusDescription),void e.dismiss();this.regionsBDArray=t,this.regionID=t[0].regionID,this.regionName=t[0].regionName}),this.expensesService.GET_userCategories(this.userData.userID).subscribe(t=>{if("200"!=t[0].statusID)return this.categoriesBDArray=[],this.toastService.showToastBottom(t[0].statusDescription),void e.dismiss();this.categoriesBDArray=t,this.categoryID=0,this.categoryName=this.translate.instant("PAGES.NUEVOGASTO.TIPOGASTO")}),this.expensesService.GET_userPaymentTypes(this.userData.userID).subscribe(t=>{if("200"!=t[0].statusID)return this.paymenTypesBDArray=[],this.toastService.showToastBottom(t[0].statusDescription),void e.dismiss();this.paymenTypesBDArray=t,this.paymentTypeID="0",this.paymentTypeName=this.translate.instant("PAGES.NUEVOGASTO.METODOGASTO")}),this.expensesService.GET_userCurrencies(this.userData.userID).subscribe(t=>{if("200"!=t[0].statusID)return this.currenciesBDArray=[],this.toastService.showToastBottom(t[0].statusDescription),void e.dismiss();this.currenciesBDArray=t,this.currencyID=t[0].currencyID,this.currencyName=t[0].currencyName}),this.razonesParaCortesia=this.translate.instant("PAGES.NUEVOGASTO.EMPRESAPERTENECE")+", "+this.translate.instant("PAGES.NUEVOGASTO.NOMBRESPERSONAS")+", "+this.translate.instant("PAGES.NUEVOGASTO.PRODUCTOSPRO"),this.expensesService.GET_userPreferences(this.userData.userID).subscribe(e=>{if(""!=e[0].paymentTypeID){this.regionIDPreference=e[0].regionID,this.zoneIDPreference=e[0].zoneID,this.paymentTypeIDPreference=e[0].paymentTypeID,this.currencyIDPreference=e[0].currencyID;for(let e of this.regionsBDArray)e.regionID==this.regionIDPreference&&(this.regionName=e.regionName);for(let e of this.zonesBDArray)e.zoneID==this.zoneIDPreference&&(this.zoneName=e.zoneName);for(let e of this.currenciesBDArray)e.currencyID==this.currencyIDPreference&&(this.currencyName=e.currencyName)}}),e.dismiss()}else this.router.navigate(["/login"])})}sumTotal(){this.expenseTotal=parseFloat(this.expenseSubTotal)+parseFloat(this.expenseTip)+parseFloat(this.expenseTax)}vaciarPropina(e){this.expenseTip=""}backButton(){this.router.navigate(["/tabs/gastos"])}compruebaPropina(){""===this.expenseTip&&(this.expenseTip="0.00")}openFile(e){this.iab.create("http://201.174.71.70/MyInnovak/endpoints/evidencesFiles/"+e,"_system")}openDatePicker(){this.datePicker.show({date:new Date,mode:"date",androidTheme:this.datePicker.ANDROID_THEMES.THEME_HOLO_DARK}).then(e=>this.expenseDate=this.transformDate(),e=>this.toastService.showToastBottom("Error occurred while getting date: "+e))}transformDate(){var e=this.expenseDate;return e.length>10&&(e=e.substr(0,10)),new Array,e.split("/"),this.datePipe.transform(e,"dd-MM-yyyy")}validateDateFunction(e){return!(!this.validateDate.test(e)||""==e)}takePhoto(){this.newFile="",this.newFileName="",this.photo64Preview="",this.photo64PreviewData="",this.fileSource="no file",this.cameraService.takePhotoService().then(e=>{this.photo64Preview=e,this.photo64PreviewData="data:image/jpeg;base64,"+e,this.fileSource="Camera"})}getFileName(){this.newFileName="",this.newFileName=document.getElementById("file-2").files[0].name;try{this.fileSource=this.newFileName.length<4?"no file":"internalStorage"}catch(e){this.fileSource="no file"}}pickFileFromDevice(){this.newFile="",this.newFileName="",this.photo64Preview="",this.photo64PreviewData="",this.fileSource="no file",document.getElementById("file-2").click(),this.newFile=document.getElementById("file-2").files[0]}sendForm(e){return(0,a.mG)(this,void 0,void 0,function*(){if("true"==localStorage.getItem("appNetworkStatus"))if(this.validateDateFunction(this.transformDate()))if(isNaN(this.expenseTotal))this.toastService.showToastBottom("Error: Total");else if("no file"!=this.fileSource)if(0!=e.value.categoryID)if("0"!=e.value.paymentTypeID){if(10==this.categoryID||33==this.categoryID||51==this.categoryID||68==this.categoryID){if(null==this.nochesHospedaje)return void this.toastService.showToastBottom("Ingrese noches de hospedaje");if(this.nochesHospedaje<1)return void this.toastService.showToastBottom("Noches de hospedaje debe ser superior a 1")}else this.nochesHospedaje=0;var t=yield this.loadingCtrl.create({message:"Creando gasto..."});t.present(),this.expensesService.POST_newExpense(e.value,this.userData.userID,document.getElementById("file-2").files[0],this.photo64Preview).subscribe(e=>(0,a.mG)(this,void 0,void 0,function*(){if("200"==e[0].statusID){t.dismiss();let e=yield this.alertCtrl.create({header:this.translate.instant("PAGES.NUEVOGASTO.GASTOCREADO"),subHeader:this.translate.instant("PAGES.NUEVOGASTO.GASTOCREADODESC"),buttons:[{text:"Ok",handler:()=>{this.router.navigate(["/gastos"])}}]});yield e.present()}else t.dismiss(),this.toastService.showToastBottom(e[0].statusDescription)}))}else this.toastService.showToastBottom(this.translate.instant("PAGES.NUEVOGASTO.SELECCIONEMETODO"));else this.toastService.showToastBottom(this.translate.instant("PAGES.NUEVOGASTO.SELECCIONETIPO"));else this.toastService.showToastBottom("No file or photo selected");else this.toastService.showToastBottom("Formato de fecha invalido (dd-MM-yyyy)");else this.toastService.showToastBottom("Es necesario conectarse a internet")})}userZonesModal(){return(0,a.mG)(this,void 0,void 0,function*(){const e=[];for(let t of this.zonesBDArray)e.push(null!=this.zoneIDPreference?t.zoneID==this.zoneIDPreference?{type:"radio",label:t.zoneName,value:t.zoneID,checked:!0}:{type:"radio",label:t.zoneName,value:t.zoneID,checked:!1}:t.zoneID==this.zoneID?{type:"radio",label:t.zoneName,value:t.zoneID,checked:!0}:{type:"radio",label:t.zoneName,value:t.zoneID,checked:!1});(yield this.alertCtrl.create({header:this.translate.instant("PAGES.NUEVOGASTO.ZONA"),inputs:e,buttons:[{text:this.translate.instant("PAGES.NUEVOGASTO.CANCELAR"),role:"cancel"},{text:"Ok",handler:e=>{this.zoneID=e;for(let t of this.zonesBDArray)t.zoneID==this.zoneID&&(this.zoneName=t.zoneName)}}]})).present()})}userRegionsModal(){return(0,a.mG)(this,void 0,void 0,function*(){const e=[];for(let t of this.regionsBDArray)e.push(null!=this.regionIDPreference?t.regionID==this.regionIDPreference?{type:"radio",label:t.regionName,value:t.regionID,checked:!0}:{type:"radio",label:t.regionName,value:t.regionID,checked:!1}:t.regionID==this.regionID?{type:"radio",label:t.regionName,value:t.regionID,checked:!0}:{type:"radio",label:t.regionName,value:t.regionID,checked:!1});(yield this.alertCtrl.create({header:this.translate.instant("PAGES.NUEVOGASTO.REGION"),inputs:e,buttons:[{text:this.translate.instant("PAGES.NUEVOGASTO.CANCELAR"),role:"cancel"},{text:"Ok",handler:e=>{this.regionID=e;for(let t of this.regionsBDArray)t.regionID==this.regionID&&(this.regionName=t.regionName)}}]})).present()})}userCompaniesModal(){return(0,a.mG)(this,void 0,void 0,function*(){const e=[];for(let t of this.companiesBDArray)e.push(t.companyID==this.companyID?{type:"radio",label:t.companyName+" / "+t.companyDescription,value:t.companyID,checked:!0}:{type:"radio",label:t.companyName+" / "+t.companyDescription,value:t.companyID,checked:!1});(yield this.alertCtrl.create({header:this.translate.instant("PAGES.NUEVOGASTO.COMPANIA"),inputs:e,buttons:[{text:this.translate.instant("PAGES.NUEVOGASTO.CANCELAR"),role:"cancel"},{text:"Ok",handler:e=>{this.companyID=e;for(let t of this.companiesBDArray)t.companyID==this.companyID&&(this.companyName=t.companyName+"/"+t.companyDescription)}}]})).present()})}userCategoriesModal(){return(0,a.mG)(this,void 0,void 0,function*(){const e=[];e.push({type:"radio",label:this.translate.instant("PAGES.NUEVOGASTO.TIPOGASTO"),value:"0",checked:!0});for(let t of this.categoriesBDArray)e.push({type:"radio",label:t.categoryName,value:t.categoryID,checked:!1});(yield this.alertCtrl.create({header:this.translate.instant("PAGES.NUEVOGASTO.TIPOGASTO"),inputs:e,buttons:[{text:this.translate.instant("PAGES.NUEVOGASTO.CANCELAR"),role:"cancel"},{text:"Ok",handler:e=>{this.categoryID=e;for(let t of this.categoriesBDArray)console.log(t.categoryEpicorID),t.categoryID==this.categoryID&&(this.categoryName=t.categoryName,this.categoryEpicorID=t.categoryEpicorID.substr(5,8),this.expenseCompany="",this.expenseCourtesyType="Otro",this.expenseClientName="",this.expenseNumberPerson="",this.expenseProductsPromote="",this.expenseCourtesyRazons="",this.expenseTip="0.00",this.sumTotal(),console.log("category selected:",this.categoryID+"/"+this.categoryName))}}]})).present()})}userPaymentTypes(){return(0,a.mG)(this,void 0,void 0,function*(){const e=[];e.push({type:"radio",label:this.translate.instant("PAGES.NUEVOGASTO.METODOGASTO"),value:"0",checked:!0});for(let t of this.paymenTypesBDArray)e.push({type:"radio",label:t.paymentTypeName,value:t.paymentTypeID,checked:!1});(yield this.alertCtrl.create({header:this.translate.instant("PAGES.NUEVOGASTO.TIPOGASTO"),inputs:e,buttons:[{text:this.translate.instant("PAGES.NUEVOGASTO.CANCELAR"),role:"cancel"},{text:"Ok",handler:e=>{this.paymentTypeID=e;for(let t of this.paymenTypesBDArray)t.paymentTypeID==this.paymentTypeID&&(this.paymentTypeName=t.paymentTypeName)}}]})).present()})}userCurrencies(){return(0,a.mG)(this,void 0,void 0,function*(){const e=[];for(let t of this.currenciesBDArray)e.push(null!=this.currencyIDPreference?t.currencyID==this.currencyIDPreference?{type:"radio",label:t.currencyName,value:t.currencyID,checked:!0}:{type:"radio",label:t.currencyName,value:t.currencyID,checked:!1}:t.currencyID==this.currencyID?{type:"radio",label:t.currencyName,value:t.currencyID,checked:!0}:{type:"radio",label:t.currencyName,value:t.currencyID,checked:!1});(yield this.alertCtrl.create({header:this.translate.instant("PAGES.NUEVOGASTO.MONEDAGASTO"),inputs:e,buttons:[{text:this.translate.instant("PAGES.NUEVOGASTO.CANCELAR"),role:"cancel"},{text:"Ok",handler:e=>{this.currencyID=e;for(let t of this.currenciesBDArray)t.currencyID==this.currencyID&&(this.currencyName=t.currencyName)}}]})).present()})}expenseCourtesyTypeModal(){return(0,a.mG)(this,void 0,void 0,function*(){const e=[];for(let t of this.typeOfCourtesyArray)e.push(t.value==this.expenseCourtesyType?{type:"radio",label:t.label,value:t.value,checked:!0}:{type:"radio",label:t.label,value:t.value,checked:!1});(yield this.alertCtrl.create({header:this.translate.instant("PAGES.NUEVOGASTO.TIPOGASTO"),inputs:e,buttons:[{text:this.translate.instant("PAGES.NUEVOGASTO.CANCELAR"),role:"cancel"},{text:"Ok",handler:e=>{this.expenseCourtesyType=e}}]})).present()})}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(o.uU),c.Y36(u.r),c.Y36(p.y),c.Y36(g.k),c.Y36(r.Br),c.Y36(r.HT),c.Y36(h.sK),c.Y36(d.M),c.Y36(m.i),c.Y36(s.F0),c.Y36(r.t4))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-new-expense-col"]],decls:148,vars:85,consts:[["color","primary","mode","ios"],["icon","arrow-back","text","","defaultHref","../gastos",3,"click"],["padding",""],[3,"ngSubmit"],["forma","ngForm"],["size","12"],["position","stacked"],["type","text","name","companyName","readonly","true","required","",3,"ngModel","click","ngModelChange"],[2,"display","none"],["type","text","name","companyID","readonly","true","required","",3,"ngModel","click","ngModelChange"],["size","6"],["type","text","name","zoneName","readonly","true","required","",3,"ngModel","click","ngModelChange"],["floating",""],["type","text","name","zoneID","readonly","true","required","",3,"ngModel","click","ngModelChange"],["type","text","name","regionName","readonly","true","required","",3,"ngModel","click","ngModelChange"],["type","text","name","regionID","readonly","true","required","",3,"ngModel","click","ngModelChange"],["type","text","name","categoryName","required","",3,"ngModel","click","ngModelChange"],["type","text","name","categoryID","readonly","true","required","",3,"ngModel","click","ngModelChange"],["displayFormat","DD/MM/YYYY","name","expenseDate","required","",3,"ngModel","ngModelChange","ionChange"],[4,"ngIf"],["inputmode","numeric","type","text","mode","ios","placeholder","Ingrese NIT","name","vendorBox","autocomplete","on",3,"ngModel","ionChange","ngModelChange",4,"ngIf"],["col-10","",4,"ngIf"],["col-2","",4,"ngIf"],["col-12","",4,"ngIf"],["style","margin-top: 20px;",4,"ngIf"],["type","text","name","expenseInvoiceNumber","required","",3,"ngModel","ngModelChange"],["type","text","name","expenseSupplierRFC","required","","autocomplete","on",3,"ngModel"],["type","text","name","paymentTypeName","readonly","true","required","",3,"ngModel","click","ngModelChange"],["type","text","name","paymentTypeID","readonly","true","required","",3,"ngModel","click","ngModelChange"],["size","6","g",""],["type","text","name","currencyName","readonly","true","required","",3,"ngModel","click","ngModelChange"],["type","text","name","currencyID","readonly","true","required","",3,"ngModel","click","ngModelChange"],["size","4"],["type","number","name","expenseSubTotal",3,"ngModel","ngModelChange","change"],["type","number","name","expenseTax",3,"ngModel","ngModelChange","change"],["type","number","name","expenseTip",3,"ngModel","readonly","ngModelChange","change","click","blur"],["type","number","name","expenseTotal","readonly","true","text-center","",3,"ngModel","ngModelChange"],["rows","3","maxLength","100","name","expenseDescription","required","",3,"ngModel","ngModelChange"],["size","12",4,"ngIf"],[1,"display-none"],["type","text","name","fileSource","readonly","true","text-center","",3,"ngModel","ngModelChange"],[3,"src",4,"ngIf"],["type","file","name","file-2[]","id","file-2",3,"change"],["type","submit","expand","block","color","primary",3,"disabled"],["vertical","bottom","horizontal","end","no-padding","","slot","fixed"],["color","primary","size","small","color","primary"],["name","folder"],["side","top"],["color","primary","size","small",3,"click"],["name","newspaper"],["color","primary",3,"click",4,"ngIf"],["type","text","name","expenseCourtesyType","readonly","true",3,"ngModel","click","ngModelChange"],["type","number","name","expenseNumberPerson","onkeydown","javascript: return event.keyCode == 69 ? false : true",3,"ngModel","ngModelChange"],["position","stacked","text-wrap",""],["rows","3","maxLength","100","name","expenseCourtesyRazons",3,"ngModel","ngModelChange"],["type","number","name","nochesHospedaje","value","0","onkeydown","javascript: return event.keyCode == 69 ? false : true",3,"ngModel","ngModelChange"],["inputmode","numeric","type","text","mode","ios","placeholder","Ingrese NIT","name","vendorBox","autocomplete","on",3,"ngModel","ionChange","ngModelChange"],["style","font-size: smaller;",3,"click",4,"ngFor","ngForOf"],[2,"font-size","smaller",3,"click"],["col-10",""],["col-2",""],["ion-button","","mode","ios",2,"background","transparent","border","transparent"],["name","close-circle","color","danger","slot","icon-only",3,"click"],["col-12",""],["type","text","name","expenseSupplier","required","","autocomplete","on","readonly","",3,"ngModel","ngModelChange"],[2,"margin-top","20px"],["col-6",""],["name","bNuevoNit",3,"checked","change"],["type","text","name","nombreProveedor",3,"ngModel","ngModelChange"],["position","stacked",1,"p-title"],[1,"file-list",3,"click"],["name","attach ","color","primary ","item-start",""],[3,"src"],["color","primary",3,"click"],["name","camera"]],template:function(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"ion-header"),c.TgZ(1,"ion-toolbar",0),c.TgZ(2,"ion-buttons"),c.TgZ(3,"ion-back-button",1),c.NdJ("click",function(){return t.backButton()}),c.qZA(),c.qZA(),c.TgZ(4,"ion-title"),c._uU(5),c.ALo(6,"translate"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(7,"ion-content",2),c.TgZ(8,"form",3,4),c.NdJ("ngSubmit",function(){c.CHM(e);const n=c.MAs(9);return t.sendForm(n)}),c.TgZ(10,"ion-row"),c.TgZ(11,"ion-col",5),c.TgZ(12,"ion-item"),c.TgZ(13,"ion-label",6),c._uU(14),c.ALo(15,"translate"),c.qZA(),c.TgZ(16,"ion-input",7),c.NdJ("click",function(){return t.userCompaniesModal()})("ngModelChange",function(e){return t.companyName=e}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(17,"ion-item",8),c.TgZ(18,"ion-label"),c._uU(19),c.ALo(20,"translate"),c.qZA(),c.TgZ(21,"ion-input",9),c.NdJ("click",function(){return t.userCompaniesModal()})("ngModelChange",function(e){return t.companyID=e}),c.qZA(),c.qZA(),c.TgZ(22,"ion-col",10),c.TgZ(23,"ion-item"),c.TgZ(24,"ion-label",6),c._uU(25),c.ALo(26,"translate"),c.qZA(),c.TgZ(27,"ion-input",11),c.NdJ("click",function(){return t.userZonesModal()})("ngModelChange",function(e){return t.zoneName=e}),c.qZA(),c.qZA(),c.TgZ(28,"ion-item",8),c.TgZ(29,"ion-label",12),c._uU(30,"ID"),c.qZA(),c.TgZ(31,"ion-input",13),c.NdJ("click",function(){return t.userZonesModal()})("ngModelChange",function(e){return t.zoneID=e}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(32,"ion-col",10),c.TgZ(33,"ion-item"),c.TgZ(34,"ion-label",6),c._uU(35),c.ALo(36,"translate"),c.qZA(),c.TgZ(37,"ion-input",14),c.NdJ("click",function(){return t.userRegionsModal()})("ngModelChange",function(e){return t.regionName=e}),c.qZA(),c.qZA(),c.TgZ(38,"ion-item",8),c.TgZ(39,"ion-label",12),c._uU(40,"ID"),c.qZA(),c.TgZ(41,"ion-input",15),c.NdJ("click",function(){return t.userRegionsModal()})("ngModelChange",function(e){return t.regionID=e}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(42,"ion-col",10),c.TgZ(43,"ion-item"),c.TgZ(44,"ion-label",6),c._uU(45),c.ALo(46,"translate"),c.qZA(),c.TgZ(47,"ion-input",16),c.NdJ("click",function(){return t.userCategoriesModal()})("ngModelChange",function(e){return t.categoryName=e}),c.qZA(),c.qZA(),c.TgZ(48,"ion-item",8),c.TgZ(49,"ion-label",12),c._uU(50,"ID"),c.qZA(),c.TgZ(51,"ion-input",17),c.NdJ("click",function(){return t.userCategoriesModal()})("ngModelChange",function(e){return t.categoryID=e}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(52,"ion-col",10),c.TgZ(53,"ion-item"),c.TgZ(54,"ion-label",6),c._uU(55),c.ALo(56,"translate"),c.qZA(),c.TgZ(57,"ion-datetime",18),c.NdJ("ngModelChange",function(e){return t.expenseDate=e})("ionChange",function(){return t.transformDate()}),c.qZA(),c.qZA(),c.qZA(),c.YNc(58,A,16,13,"ion-row",19),c.YNc(59,y,7,4,"ion-row",19),c.YNc(60,T,1,1,"ion-searchbar",20),c.YNc(61,f,2,1,"ion-list",19),c.YNc(62,N,2,0,"ion-col",21),c.YNc(63,D,3,0,"ion-col",22),c.YNc(64,x,6,4,"ion-col",23),c.YNc(65,I,11,2,"ion-row",24),c.TgZ(66,"ion-col",10),c.TgZ(67,"ion-item"),c.TgZ(68,"ion-label",6),c._uU(69),c.ALo(70,"translate"),c.qZA(),c.TgZ(71,"ion-input",25),c.NdJ("ngModelChange",function(e){return t.expenseInvoiceNumber=e}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(72,"ion-col",10),c.TgZ(73,"ion-item"),c.TgZ(74,"ion-label",6),c._uU(75),c.ALo(76,"translate"),c.qZA(),c._UZ(77,"ion-input",26),c.qZA(),c.qZA(),c.TgZ(78,"ion-col",10),c.TgZ(79,"ion-item"),c.TgZ(80,"ion-label",6),c._uU(81),c.ALo(82,"translate"),c.qZA(),c.TgZ(83,"ion-input",27),c.NdJ("click",function(){return t.userPaymentTypes()})("ngModelChange",function(e){return t.paymentTypeName=e}),c.qZA(),c.qZA(),c.TgZ(84,"ion-item",8),c.TgZ(85,"ion-label",12),c._uU(86,"ID"),c.qZA(),c.TgZ(87,"ion-input",28),c.NdJ("click",function(){return t.userPaymentTypes()})("ngModelChange",function(e){return t.paymentTypeID=e}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(88,"ion-col",29),c.TgZ(89,"ion-item"),c.TgZ(90,"ion-label",6),c._uU(91),c.ALo(92,"translate"),c.qZA(),c.TgZ(93,"ion-input",30),c.NdJ("click",function(){return t.userCurrencies()})("ngModelChange",function(e){return t.currencyName=e}),c.qZA(),c.qZA(),c.TgZ(94,"ion-item",8),c.TgZ(95,"ion-label",12),c._uU(96,"ID"),c.qZA(),c.TgZ(97,"ion-input",31),c.NdJ("click",function(){return t.userCurrencies()})("ngModelChange",function(e){return t.currencyID=e}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(98,"ion-col",32),c.TgZ(99,"ion-item"),c.TgZ(100,"ion-label",6),c._uU(101),c.ALo(102,"translate"),c.qZA(),c.TgZ(103,"ion-input",33),c.NdJ("ngModelChange",function(e){return t.expenseSubTotal=e})("change",function(){return t.sumTotal()}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(104,"ion-col",32),c.TgZ(105,"ion-item"),c.TgZ(106,"ion-label",6),c._uU(107),c.ALo(108,"translate"),c.qZA(),c.TgZ(109,"ion-input",34),c.NdJ("ngModelChange",function(e){return t.expenseTax=e})("change",function(){return t.sumTotal()}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(110,"ion-col",32),c.TgZ(111,"ion-item"),c.TgZ(112,"ion-label",6),c._uU(113),c.ALo(114,"translate"),c.qZA(),c.TgZ(115,"ion-input",35),c.NdJ("ngModelChange",function(e){return t.expenseTip=e})("change",function(){return t.sumTotal()})("click",function(e){return t.vaciarPropina(e)})("blur",function(){return t.compruebaPropina()}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(116,"ion-row"),c.TgZ(117,"ion-col",5),c.TgZ(118,"ion-item"),c.TgZ(119,"ion-label",6),c._uU(120),c.ALo(121,"translate"),c.qZA(),c.TgZ(122,"ion-input",36),c.NdJ("ngModelChange",function(e){return t.expenseTotal=e}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(123,"ion-col",5),c.TgZ(124,"ion-item"),c.TgZ(125,"ion-label",6),c._uU(126),c.ALo(127,"translate"),c.qZA(),c.TgZ(128,"ion-textarea",37),c.NdJ("ngModelChange",function(e){return t.expenseDescription=e}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.YNc(129,S,6,1,"ion-col",38),c.TgZ(130,"ion-item",39),c.TgZ(131,"ion-label",12),c._uU(132,"fileSource"),c.qZA(),c.TgZ(133,"ion-input",40),c.NdJ("ngModelChange",function(e){return t.fileSource=e}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(134,"ion-item"),c.YNc(135,O,1,1,"img",41),c.qZA(),c.TgZ(136,"ion-item",39),c.TgZ(137,"input",42),c.NdJ("change",function(){return t.getFileName()}),c.qZA(),c.qZA(),c.TgZ(138,"ion-button",43),c._uU(139),c.ALo(140,"translate"),c.qZA(),c.qZA(),c.TgZ(141,"ion-fab",44),c.TgZ(142,"ion-fab-button",45),c._UZ(143,"ion-icon",46),c.qZA(),c.TgZ(144,"ion-fab-list",47),c.TgZ(145,"ion-fab-button",48),c.NdJ("click",function(){return t.pickFileFromDevice()}),c._UZ(146,"ion-icon",49),c.qZA(),c.YNc(147,E,2,0,"ion-fab-button",50),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=c.MAs(9);c.xp6(5),c.Oqu(c.lcZ(6,51,"PAGES.NUEVOGASTO.NUEVOGASTO")),c.xp6(9),c.hij("",c.lcZ(15,53,"PAGES.NUEVOGASTO.COMPANIA"),"*"),c.xp6(2),c.Q6J("ngModel",t.companyName),c.xp6(3),c.hij("",c.lcZ(20,55,"PAGES.NUEVOGASTO.COMPANIA"),"*"),c.xp6(2),c.Q6J("ngModel",t.companyID),c.xp6(4),c.hij("",c.lcZ(26,57,"PAGES.NUEVOGASTO.ZONA"),"*"),c.xp6(2),c.Q6J("ngModel",t.zoneName),c.xp6(4),c.Q6J("ngModel",t.zoneID),c.xp6(4),c.hij("",c.lcZ(36,59,"PAGES.NUEVOGASTO.REGION"),"*"),c.xp6(2),c.Q6J("ngModel",t.regionName),c.xp6(4),c.Q6J("ngModel",t.regionID),c.xp6(4),c.hij("",c.lcZ(46,61,"PAGES.NUEVOGASTO.TIPOGASTO"),"*"),c.xp6(2),c.Q6J("ngModel",t.categoryName),c.xp6(4),c.Q6J("ngModel",t.categoryID),c.xp6(4),c.hij("",c.lcZ(56,63,"PAGES.NUEVOGASTO.FECHAGASTO"),"*"),c.xp6(2),c.Q6J("ngModel",t.expenseDate),c.xp6(1),c.Q6J("ngIf","0028"==t.categoryEpicorID),c.xp6(1),c.Q6J("ngIf",19==t.categoryID),c.xp6(1),c.Q6J("ngIf",!t.selectedVendor),c.xp6(1),c.Q6J("ngIf",t.vendorsVisible),c.xp6(1),c.Q6J("ngIf",t.selectedVendor),c.xp6(1),c.Q6J("ngIf",t.selectedVendor),c.xp6(1),c.Q6J("ngIf",t.selectedVendor),c.xp6(1),c.Q6J("ngIf",1==t.bNuevoNit),c.xp6(4),c.hij("",c.lcZ(70,65,"PAGES.NUEVOGASTO.NUMFACTURA"),"*"),c.xp6(2),c.Q6J("ngModel",t.expenseInvoiceNumber),c.xp6(4),c.hij("",c.lcZ(76,67,"PAGES.NUEVOGASTO.RFC"),"*"),c.xp6(2),c.Q6J("ngModel",t.expenseSupplierRFC),c.xp6(4),c.hij("",c.lcZ(82,69,"PAGES.NUEVOGASTO.METODOGASTO"),"*"),c.xp6(2),c.Q6J("ngModel",t.paymentTypeName),c.xp6(4),c.Q6J("ngModel",t.paymentTypeID),c.xp6(4),c.hij("",c.lcZ(92,71,"PAGES.NUEVOGASTO.MONEDAGASTO"),"*"),c.xp6(2),c.Q6J("ngModel",t.currencyName),c.xp6(4),c.Q6J("ngModel",t.currencyID),c.xp6(4),c.Oqu(c.lcZ(102,73,"PAGES.NUEVOGASTO.SUBTOTAL")),c.xp6(2),c.Q6J("ngModel",t.expenseSubTotal),c.xp6(4),c.Oqu(c.lcZ(108,75,"PAGES.NUEVOGASTO.IVA")),c.xp6(2),c.Q6J("ngModel",t.expenseTax),c.xp6(4),c.Oqu(c.lcZ(114,77,"PAGES.NUEVOGASTO.PROPINA")),c.xp6(2),c.Q6J("ngModel",t.expenseTip)("readonly","529520"!=t.categoryEpicorID&&525510!=t.categoryEpicorID),c.xp6(5),c.Oqu(c.lcZ(121,79,"PAGES.NUEVOGASTO.TOTAL")),c.xp6(2),c.Q6J("ngModel",t.expenseTotal),c.xp6(4),c.hij("",c.lcZ(127,81,"PAGES.NUEVOGASTO.INFOAD"),"*"),c.xp6(2),c.Q6J("ngModel",t.expenseDescription),c.xp6(1),c.Q6J("ngIf",t.newFileName.length>4),c.xp6(4),c.Q6J("ngModel",t.fileSource),c.xp6(2),c.Q6J("ngIf",t.photo64PreviewData.length>115),c.xp6(3),c.Q6J("disabled",!e.valid),c.xp6(1),c.hij("",c.lcZ(140,83,"PAGES.NUEVOGASTO.ENVIAR")," "),c.xp6(8),c.Q6J("ngIf","android"===t.sistemaOperativo)}},directives:[r.Gu,r.sr,r.Sm,r.oU,r.cs,r.wd,r.W2,i._Y,i.JL,i.F,r.Nd,r.wI,r.Ie,r.Q$,r.pK,r.j9,i.Q7,i.JJ,i.On,r.x4,r.QI,o.O5,r.as,r.g2,r.YG,r.IJ,r.W4,r.gu,r.zq,r.VI,r.q_,o.sg,r.nz,r.w],pipes:[h.X$],styles:["ion-content[_ngcontent-%COMP%]{--padding-end:10px;--padding-top:10px}"]}),e})()}];let C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[s.Bz.forChild(M)],s.Bz]}),e})();var v=n(9037),b=n(2693);function q(e){return new v.w(e,"assets/i18n/",".json")}let G=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[o.ez,i.u5,r.Pc,C,h.aw.forRoot({loader:{provide:h.Zw,useFactory:q,deps:[b.eN]}})]]}),e})()}}]);