(self.webpackChunkMyInnovak=self.webpackChunkMyInnovak||[]).push([[5958],{5958:(e,t,i)=>{"use strict";i.r(t),i.d(t,{HttpLoaderFactory:()=>w,MileagesPageModule:()=>k});var n=i(1116),s=i(1041),o=i(4812),l=i(4258),a=i(4762),c=i(8975),r=i(5366),d=i(649),g=i(4216),u=i(7047),Z=i(8154),h=i(8760);const A=["slideAnio"],p=["slideMes"];function M(e,t){1&e&&r._UZ(0,"ion-icon",15)}function f(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ion-slide",9),r.NdJ("click",function(){const t=r.CHM(e).$implicit;return r.oxw().selectYear(t.id)}),r.TgZ(1,"p"),r._uU(2),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit,i=r.oxw();r.xp6(1),r.ekj("selected",i.selectedYear==e.id),r.xp6(1),r.Oqu(e.name)}}function T(e,t){1&e&&r._UZ(0,"ion-icon",16)}function q(e,t){1&e&&r._UZ(0,"ion-icon",15)}function m(e,t){1&e&&r._UZ(0,"ion-icon",16)}function S(e,t){if(1&e&&(r.TgZ(0,"ion-grid",17),r.TgZ(1,"ion-row"),r.TgZ(2,"ion-col",18),r.TgZ(3,"div"),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.TgZ(6,"div"),r._uU(7),r.ALo(8,"CustomNumberPipe"),r.qZA(),r.qZA(),r.TgZ(9,"ion-col",19),r.TgZ(10,"div"),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.TgZ(13,"div"),r._uU(14),r.ALo(15,"CustomNumberPipe"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(16,"ion-row"),r.TgZ(17,"ion-col",20),r.TgZ(18,"div"),r._uU(19),r.ALo(20,"translate"),r.qZA(),r.TgZ(21,"div"),r._uU(22),r.ALo(23,"CustomNumberPipe"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(4),r.Oqu(r.lcZ(5,6,"PAGES.GASTOS.NUEVO")),r.xp6(3),r.hij("$",r.lcZ(8,8,e.totalNuevos),""),r.xp6(4),r.Oqu(r.lcZ(12,10,"PAGES.GASTOS.AUTORIZADO")),r.xp6(3),r.hij("$",r.lcZ(15,12,e.totalAutorizados),""),r.xp6(5),r.Oqu(r.lcZ(20,14,"PAGES.NUEVOGASTO.TOTAL")),r.xp6(3),r.hij("$",r.lcZ(23,16,e.totalPagados),"")}}function E(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"ion-card",9),r.NdJ("click",function(){const t=r.CHM(e).$implicit;return r.oxw().openMileage(t)}),r.TgZ(1,"ion-card-header"),r.TgZ(2,"ion-card-subtitle"),r._uU(3),r.qZA(),r.TgZ(4,"ion-card-subtitle"),r._uU(5),r.TgZ(6,"ion-note",21),r._uU(7),r.ALo(8,"date"),r.ALo(9,"CustomDatePipe"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(10,"ion-card-content"),r.TgZ(11,"p"),r.TgZ(12,"b"),r._uU(13,"Miles Traveled:"),r.qZA(),r._uU(14),r.qZA(),r.TgZ(15,"p"),r.TgZ(16,"b"),r._uU(17,"Reimbusement:"),r.qZA(),r._uU(18),r.qZA(),r.qZA(),r.TgZ(19,"ion-row",22),r.TgZ(20,"ion-col",23),r.TgZ(21,"ion-button",24),r.TgZ(22,"small"),r._uU(23),r.ALo(24,"translate"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(25,"ion-col",23),r.TgZ(26,"ion-button",24),r.TgZ(27,"small"),r._uU(28),r.ALo(29,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit;r.xp6(3),r.Oqu(e.Origen),r.xp6(2),r.hij("",e.Destino," "),r.xp6(2),r.Oqu(r.lcZ(8,15,r.lcZ(9,17,e.Fecha))),r.xp6(7),r.hij(" ",e.nMileage," "),r.xp6(4),r.hij(" ",e.Reembolso," "),r.xp6(3),r.Tol(e.mileageStatusName),r.xp6(2),r.AsE("",r.lcZ(24,19,"PAGES.MILEAGE.STARTMILES"),": ",e.MillasIniciales,""),r.xp6(3),r.Tol(e.mileageStatusName),r.xp6(2),r.AsE("",r.lcZ(29,21,"PAGES.MILEAGE.ENDMILES"),": ",e.MillasFin,"")}}function O(e,t){1&e&&(r.TgZ(0,"div",25),r._UZ(1,"ion-icon",26),r.TgZ(2,"h2",27),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"p"),r._uU(6),r.ALo(7,"translate"),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Oqu(r.lcZ(4,2,"PAGES.GASTOS.NODATA")),r.xp6(3),r.hij(" ",r.lcZ(7,4,"PAGES.MILEAGE.NODATADESC"),""))}const x=[{path:"",component:(()=>{class e{constructor(e,t,i,n,s,o){this.router=e,this.translate=t,this.mileageService=i,this.toastService=n,this.loadingCtrl=s,this.alertCtrl=o,this.idioma="es",this.userAppType="---",this.userInfo={},this.flagsUser=[],this.mileagesUser=[],this.months=c.k,this.GET_MileagesData=[],this.totalNuevos=0,this.totalAutorizados=0,this.totalPagados=0,this.years=[{id:"1",name:"2017"},{id:"2",name:"2018"},{id:"3",name:"2019"},{id:"4",name:"2020"},{id:"5",name:"2021"}],this.slideOpts={slidesPerView:3,coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!1}},t.setDefaultLang(this.idioma),this.translate.use(this.idioma),this.selectedYear=localStorage.getItem("selectedYear"),this.selectedMonth=localStorage.getItem("selectedMonth"),this.showLeftButton=!1,this.showRightButton=!0}ionViewWillEnter(){this.userData=JSON.parse(localStorage.getItem("userData")),this.translate.use(localStorage.getItem("idioma")),this.userAppType=this.userData.userAppType,this.GET_allMileages()}ionViewCanEnter(){return this.translate.setDefaultLang("es"),localStorage.getItem("userData")||this.router.navigate(["/login"]),!0}openNewMileageModal(){this.router.navigate(["/tabs/new-mileage"])}openMileage(e){this.router.navigate(["/tabs/mileage"],{state:{mileage:e.IdMileage}})}openAdminFirstFilterPage(){this.router.navigate(["/tabs/admin-first-filter-mileage"])}GET_allMileages(){return(0,a.mG)(this,void 0,void 0,function*(){var e=yield this.loadingCtrl.create({message:"Cargando..."});if(e.present(),"true"!=localStorage.getItem("appNetworkStatus"))return this.toastService.showToastBottom("Es necesario conectarse a internet"),void e.dismiss();this.GET_MileagesData=[],this.selectedMonth=localStorage.getItem("selectedMonth"),this.selectedYear=localStorage.getItem("selectedYear"),this.slidesMes.slideTo(this.selectedMonth-2,50),this.slidesAnio.slideTo(this.selectedYear-2,50);try{this.mileageService.GET_allUserMileages(this.userData.userID,this.selectedMonth,parseFloat("2016")+parseFloat(localStorage.getItem("selectedYear"))).subscribe(e=>{this.mileagesUser=e})}catch(t){this.mileagesUser=[],this.toastService.showToastBottom(this.translate.instant("PAGES.GASTOS.NODATA")),console.log("Error??: "+t)}e.dismiss()})}GET_MileageFlags(){this.mileageService.GET_MileageFlags(this.userData.userID,this.selectedMonth,parseFloat("2016")+parseFloat(localStorage.getItem("selectedYear"))).subscribe(e=>{this.flagsUser=e,this.flagsUser.length>0?(this.totalNuevos=this.flagsUser[0].nuevos,this.totalAutorizados=this.flagsUser[0].autorizados,this.totalPagados=this.flagsUser[0].total):(this.totalNuevos=0,this.totalAutorizados=0,this.totalPagados=0)})}selectYear(e){this.selectedYear=e,localStorage.setItem("selectedYear",this.selectedYear),this.GET_allMileages()}slideYearChanged(){let e=this.slidesAnio.getActiveIndex().then(t=>e=t);this.showLeftButton=e>0,this.showRightButton=e<9}slideYearNext(){this.slidesAnio.slideNext()}slideYearPrev(){this.slidesAnio.slidePrev()}selectMonth(e){this.selectedMonth=e,localStorage.setItem("selectedMonth",this.selectedMonth),this.GET_allMileages()}slideChanged(){let e=this.slidesMes.getActiveIndex().then(t=>e=t);this.showLeftButton=e>0,this.showRightButton=e<9}slideNext(){this.slidesMes.slideNext()}slidePrev(){this.slidesMes.slidePrev()}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(l.F0),r.Y36(d.sK),r.Y36(g.A),r.Y36(u.k),r.Y36(o.HT),r.Y36(o.Br))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-mileages"]],viewQuery:function(e,t){if(1&e&&(r.Gf(A,5),r.Gf(p,5)),2&e){let e;r.iGM(e=r.CRH())&&(t.slidesAnio=e.first),r.iGM(e=r.CRH())&&(t.slidesMes=e.first)}},decls:74,vars:70,consts:[[1,"filters"],["no-padding","","size","1",1,"col-with-arrow",3,"click"],["name","arrow-back",4,"ngIf"],["no-padding","","size","10"],[3,"options","ionSlideDidChange"],["slideAnio",""],[3,"click",4,"ngFor","ngForOf"],["name","arrow-forward",4,"ngIf"],["slideMes",""],[3,"click"],["text-center","",4,"ngIf"],["vertical","bottom","horizontal","end","no-padding","","slot","fixed"],["color","primary",3,"click"],["name","add"],["class","message","padding","",4,"ngIf"],["name","arrow-back"],["name","arrow-forward"],["text-center",""],[1,"bgc-new"],[1,"bgc-autorized"],[1,"bgc-fund"],[2,"float","right"],["no-padding",""],["size","6"],["size","small","fill","clear","icon-start",""],["padding","",1,"message"],["name","sad"],[1,"slide-title"]],template:function(e,t){1&e&&(r.TgZ(0,"ion-header"),r.TgZ(1,"ion-toolbar"),r.TgZ(2,"ion-row",0),r.TgZ(3,"ion-col",1),r.NdJ("click",function(){return t.slideYearPrev()}),r.YNc(4,M,1,0,"ion-icon",2),r.qZA(),r.TgZ(5,"ion-col",3),r.TgZ(6,"ion-slides",4,5),r.NdJ("ionSlideDidChange",function(){return t.slideYearChanged()}),r.YNc(8,f,3,3,"ion-slide",6),r.qZA(),r.qZA(),r.TgZ(9,"ion-col",1),r.NdJ("click",function(){return t.slideYearNext()}),r.YNc(10,T,1,0,"ion-icon",7),r.qZA(),r.qZA(),r.TgZ(11,"ion-row"),r.TgZ(12,"ion-col",1),r.NdJ("click",function(){return t.slidePrev()}),r.YNc(13,q,1,0,"ion-icon",2),r.qZA(),r.TgZ(14,"ion-col",3),r.TgZ(15,"ion-slides",4,8),r.NdJ("ionSlideDidChange",function(){return t.slideChanged()}),r.TgZ(17,"ion-slide",9),r.NdJ("click",function(){return t.selectMonth(1)}),r.TgZ(18,"p"),r._uU(19),r.ALo(20,"translate"),r.qZA(),r.qZA(),r.TgZ(21,"ion-slide",9),r.NdJ("click",function(){return t.selectMonth(2)}),r.TgZ(22,"p"),r._uU(23),r.ALo(24,"translate"),r.qZA(),r.qZA(),r.TgZ(25,"ion-slide",9),r.NdJ("click",function(){return t.selectMonth(3)}),r.TgZ(26,"p"),r._uU(27),r.ALo(28,"translate"),r.qZA(),r.qZA(),r.TgZ(29,"ion-slide",9),r.NdJ("click",function(){return t.selectMonth(4)}),r.TgZ(30,"p"),r._uU(31),r.ALo(32,"translate"),r.qZA(),r.qZA(),r.TgZ(33,"ion-slide",9),r.NdJ("click",function(){return t.selectMonth(5)}),r.TgZ(34,"p"),r._uU(35),r.ALo(36,"translate"),r.qZA(),r.qZA(),r.TgZ(37,"ion-slide",9),r.NdJ("click",function(){return t.selectMonth(6)}),r.TgZ(38,"p"),r._uU(39),r.ALo(40,"translate"),r.qZA(),r.qZA(),r.TgZ(41,"ion-slide",9),r.NdJ("click",function(){return t.selectMonth(7)}),r.TgZ(42,"p"),r._uU(43),r.ALo(44,"translate"),r.qZA(),r.qZA(),r.TgZ(45,"ion-slide",9),r.NdJ("click",function(){return t.selectMonth(8)}),r.TgZ(46,"p"),r._uU(47),r.ALo(48,"translate"),r.qZA(),r.qZA(),r.TgZ(49,"ion-slide",9),r.NdJ("click",function(){return t.selectMonth(9)}),r.TgZ(50,"p"),r._uU(51),r.ALo(52,"translate"),r.qZA(),r.qZA(),r.TgZ(53,"ion-slide",9),r.NdJ("click",function(){return t.selectMonth(10)}),r.TgZ(54,"p"),r._uU(55),r.ALo(56,"translate"),r.qZA(),r.qZA(),r.TgZ(57,"ion-slide",9),r.NdJ("click",function(){return t.selectMonth(11)}),r.TgZ(58,"p"),r._uU(59),r.ALo(60,"translate"),r.qZA(),r.qZA(),r.TgZ(61,"ion-slide",9),r.NdJ("click",function(){return t.selectMonth(12)}),r.TgZ(62,"p"),r._uU(63),r.ALo(64,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(65,"ion-col",1),r.NdJ("click",function(){return t.slideNext()}),r.YNc(66,m,1,0,"ion-icon",7),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(67,"ion-content"),r.YNc(68,S,24,18,"ion-grid",10),r.YNc(69,E,30,23,"ion-card",6),r.TgZ(70,"ion-fab",11),r.TgZ(71,"ion-fab-button",12),r.NdJ("click",function(){return t.openNewMileageModal()}),r._UZ(72,"ion-icon",13),r.qZA(),r.qZA(),r.YNc(73,O,8,6,"div",14),r.qZA()),2&e&&(r.xp6(4),r.Q6J("ngIf",t.showLeftButton),r.xp6(2),r.Q6J("options",t.slideOpts),r.xp6(2),r.Q6J("ngForOf",t.years),r.xp6(2),r.Q6J("ngIf",t.showRightButton),r.xp6(3),r.Q6J("ngIf",t.showLeftButton),r.xp6(2),r.Q6J("options",t.slideOpts),r.xp6(3),r.ekj("selected",1==t.selectedMonth),r.xp6(1),r.Oqu(r.lcZ(20,46,"MESES.ENERO")),r.xp6(3),r.ekj("selected",2==t.selectedMonth),r.xp6(1),r.Oqu(r.lcZ(24,48,"MESES.FEBRERO")),r.xp6(3),r.ekj("selected",3==t.selectedMonth),r.xp6(1),r.Oqu(r.lcZ(28,50,"MESES.MARZO")),r.xp6(3),r.ekj("selected",4==t.selectedMonth),r.xp6(1),r.Oqu(r.lcZ(32,52,"MESES.ABRIL")),r.xp6(3),r.ekj("selected",5==t.selectedMonth),r.xp6(1),r.Oqu(r.lcZ(36,54,"MESES.MAYO")),r.xp6(3),r.ekj("selected",6==t.selectedMonth),r.xp6(1),r.Oqu(r.lcZ(40,56,"MESES.JUNIO")),r.xp6(3),r.ekj("selected",7==t.selectedMonth),r.xp6(1),r.Oqu(r.lcZ(44,58,"MESES.JULIO")),r.xp6(3),r.ekj("selected",8==t.selectedMonth),r.xp6(1),r.Oqu(r.lcZ(48,60,"MESES.AGOSTO")),r.xp6(3),r.ekj("selected",9==t.selectedMonth),r.xp6(1),r.Oqu(r.lcZ(52,62,"MESES.SEPTIEMBRE")),r.xp6(3),r.ekj("selected",10==t.selectedMonth),r.xp6(1),r.Oqu(r.lcZ(56,64,"MESES.OCTUBRE")),r.xp6(3),r.ekj("selected",11==t.selectedMonth),r.xp6(1),r.Oqu(r.lcZ(60,66,"MESES.NOVIEMBRE")),r.xp6(3),r.ekj("selected",12==t.selectedMonth),r.xp6(1),r.Oqu(r.lcZ(64,68,"MESES.DICIEMBRE")),r.xp6(3),r.Q6J("ngIf",t.showRightButton),r.xp6(2),r.Q6J("ngIf",t.flagsUser.length>0),r.xp6(1),r.Q6J("ngForOf",t.mileagesUser),r.xp6(4),r.Q6J("ngIf",0==t.mileagesUser.length))},directives:[o.Gu,o.sr,o.Nd,o.wI,n.O5,o.Hr,n.sg,o.A$,o.W2,o.IJ,o.W4,o.gu,o.jY,o.PM,o.Zi,o.tO,o.uN,o.FN,o.YG],pipes:[d.X$,Z.v,n.uU,h.F],styles:[".grid[_ngcontent-%COMP%]{padding:0;font-weight:700;color:#fff}.bgc-new[_ngcontent-%COMP%], .bgc-new[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#ffc107}.bgc-autorized[_ngcontent-%COMP%], .bgc-autorized[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#007bff}.bgc-fund[_ngcontent-%COMP%], .bgc-fund[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#28a745}.bgc-spent[_ngcontent-%COMP%], .bgc-spent[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#dc3545}.bgc-available[_ngcontent-%COMP%], .bgc-available[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#737272}ion-col[_ngcontent-%COMP%]{font-weight:600;font-size:.9rem;line-height:.9rem}"]}),e})()}];let _=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[l.Bz.forChild(x)],l.Bz]}),e})();var N=i(9037),U=i(2693),v=i(5774);function w(e){return new N.w(e,"assets/i18n/",".json")}let k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[n.ez,s.u5,o.Pc,_,v.D,d.aw.forRoot({loader:{provide:d.Zw,useFactory:w,deps:[U.eN]}})]]}),e})()}}]);